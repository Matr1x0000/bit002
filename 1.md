系统数据库包含以下核心表：
- 居民身份信息表（residents）
- 楼房信息表（buildings）
- 小区信息表（communities）
- 单元信息表（units）
- 户号信息表（house_numbers）
- 平房信息表（bungalows）
- 胡同信息表（streets）
- 组别信息表（groups）
- 物业信息表（properties）
- 商户信息表（merchants）
- 行业信息表（industries）
- 街道信息表（streets）
- 低保户信息表（low_income_residents）
- 五保户信息表（five_guarantees_residents）
- 残疾人信息表（disabled_residents）
- 特扶户信息表（special_needs_residents）
- 死亡户信息表（deceased_residents）
- 重点对象信息表（special_objects）
- 管理员信息表（admins）
- 民族表（ethnicities）

## 4.2 居民居住信息表（residential_information）

**表功能**：存储社区居民的详细居住信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 居民居住信息唯一标识 |
| resident_id | INT | 11 | 否 | 否 | FOREIGN KEY (residents.id) | 居民ID |
| community_id | INT | 11 | 否 | 否 | FOREIGN KEY (communities.id) | 所属小区ID |
| unit_id | INT | 11 | 否 | 否 | FOREIGN KEY (units.id) | 所属单元ID |
| house_id | INT | 11 | 否 | 否 | FOREIGN KEY (houses.id) | 所属户ID |
| is_head_of_household | TINYINT | 1 | 否 | 否 | DEFAULT 0 | 是否户主（0否，1是） |
| phone_number | VARCHAR | 20 | 否 | 否 | | 联系方式 |

**索引**：
- 主键索引：id
- 普通索引：resident_id, community_id, unit_id, house_id


### 4.3 死亡人口表（deceased_population）

**表功能**：存储社区死亡人口的详细信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 死亡人口唯一标识 |
| name | VARCHAR | 50 | 否 | 否 | | 死亡人口姓名 |
| id_card | VARCHAR | 18 | 否 | 否 | UNIQUE | 身份证号（唯一） |
| death_date | DATE | | 否 | 否 | | 死亡日期 |
| registration_date | DATETIME | | 否 | 否 | DEFAULT CURRENT_TIMESTAMP | 登记日期 |
| last_update_time | DATETIME | | 否 | 否 | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 最后更新时间 |

**索引**：
- 主键索引：id
- 唯一索引：id_card
- 普通索引：name


### 4.3 商户信息表（businesses）

**表功能**：存储社区商户的详细信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 商户唯一标识 |
| business_name | VARCHAR | 100 | 否 | 否 | | 商户名称 |
| credit_code | VARCHAR | 18 | 否 | 否 | UNIQUE | 统一社会信用代码（唯一） |
| license_number | VARCHAR | 50 | 否 | 否 | | 营业执照编号 |
| legal_person | VARCHAR | 50 | 否 | 否 | | 法人代表姓名 |
| legal_person_id | VARCHAR | 18 | 否 | 否 | | 法人代表身份证号 |
| phone_number | VARCHAR | 20 | 否 | 是 | | 联系电话 |
| streets_id | INT | 11 | 否 | 否 | FOREIGN KEY (streets.id) | 所属街道ID |
| address | VARCHAR | 255 | 否 | 否 | | 地址 |
| industry_id | INT | 11 | 否 | 否 | FOREIGN KEY (industries.id) | 所属行业ID |
| business_scope | TEXT | | 否 | 是 | | 经营范围 |
| establishment_date | DATE | | 否 | 否 | | 成立日期 |
| registration_date | DATETIME | | 否 | 否 | DEFAULT CURRENT_TIMESTAMP | 登记日期 |
| last_update_time | DATETIME | | 否 | 否 | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 最后更新时间 |

**索引**：
- 主键索引：id
- 唯一索引：credit_code
- 普通索引：business_name, license_number, legal_person, streets_id, industry_id

### 4.4 组别表（groups）

**表功能**：存储居民所属的组别信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 组别唯一标识 |
| group_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 组别名称（唯一） |
| description | TEXT | | 否 | 是 | | 组别描述 |

**索引**：
- 主键索引：id
- 唯一索引：group_name

### 4.6 行业表（industries）

**表功能**：存储商户所属的行业信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 行业唯一标识 |
| industry_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 行业名称（唯一） |
| description | TEXT | | 否 | 是 | | 行业描述 |

**索引**：
- 主键索引：id
- 唯一索引：industry_name

### 4.7 管理员账户表（admins）

**表功能**：存储系统管理员的账户信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 管理员唯一标识 |
| username | VARCHAR | 50 | 否 | 否 | UNIQUE | 用户名（唯一） |
| password_hash | VARCHAR | 255 | 否 | 否 | | 密码哈希值（加密存储） |
| real_name | VARCHAR | 50 | 否 | 是 | | 真实姓名 |
| phone_number | VARCHAR | 20 | 否 | 是 | | 联系电话 |
| email | VARCHAR | 100 | 否 | 是 | | 电子邮箱 |
| role | TINYINT | 1 | 否 | 否 | DEFAULT 0 | 角色（0管理员，1超级管理员） |
| status | TINYINT | 1 | 否 | 否 | DEFAULT 1 | 状态（0禁用，1启用） |
| create_time | DATETIME | | 否 | 否 | DEFAULT CURRENT_TIMESTAMP | 创建时间 |
| last_login_time | DATETIME | | 否 | 是 | | 最后登录时间 |

**索引**：
- 主键索引：id
- 唯一索引：username
- 普通索引：status, role, email

### 4.8 小区表（communities）

**表功能**：存储小区和胡同信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 小区唯一标识 |
| community_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 小区名称（唯一） |
| group_id | INT | 11 | 否 | 否 | FOREIGN KEY (groups.id) | 所属组别ID |
| house_num | TINYINT | 3 | 否 | 否 | UNIQUE | 户号 |
| has_property | TINYINT | 1 | 否 | 否 | DEFAULT 0 | 是否有物业（0否，1是） |

**索引**：
- 主键索引：id
- 唯一索引：community_name
- 普通索引：has_property, group_id

### 4.9 单元表（units）

**表功能**：存储单元和胡同信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 单元唯一标识 |
| unit_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 单元名称（唯一） |
| community_id | INT | 11 | 否 | 否 | FOREIGN KEY (communities.id) | 所属小区ID |
| has_elevator | TINYINT | 1 | 否 | 否 | DEFAULT 0 | 是否有电梯（0否，1是） |

**索引**：
- 主键索引：id
- 唯一索引：unit_name
- 普通索引：has_elevator, community_id

### 4.10 户表（house）

**表功能**：存储住宅信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 户唯一标识 |
| house_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 户名称（唯一） |
| unit_id | INT | 11 | 否 | 否 | FOREIGN KEY (units.id) | 所属单元ID |
| is_empty | TINYINT | 1 | 否 | 否 | DEFAULT 0 | 是否为空户（0否，1是） |

**索引**：
- 主键索引：id
- 唯一索引：house_name
- 普通索引：is_empty, unit_id

### 4.11 街道表（streets）

**表功能**：存储街道信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 街道唯一标识 |
| street_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 街道名称（唯一） |

**索引**：
- 主键索引：id
- 唯一索引：street_name

### 4.12 物业信息表（properties）

**表功能**：存储物业信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 物业唯一标识 |
| property_name | VARCHAR | 50 | 否 | 否 | UNIQUE | 物业名称（唯一） |
| contact_name | VARCHAR | 50 | 否 | 是 | | 联系人姓名 |
| contact_phone | VARCHAR | 20 | 否 | 是 | | 联系电话 |

**索引**：
- 主键索引：id
- 唯一索引：property_name
- 普通索引：contact_name

## 4.13 物业辖区表（property_areas）

**表功能**：存储物业辖区信息

| 字段名 | 数据类型 | 长度 | 是否主键 | 是否可为空 | 约束条件 | 描述 |
|-------|---------|------|---------|---------|---------|------|
| id | INT | 11 | 是 | 否 | AUTO_INCREMENT | 物业辖区唯一标识 |
| community_id | INT | 11 | 否 | 否 | FOREIGN KEY (communities.id) | 所属小区ID （唯一）|
| property_id | INT | 11 | 否 | 否 | FOREIGN KEY (properties.id) | 所属物业ID |
| property_address | VARCHAR | 100 | 否 | 是 | | 物业具体地址 |

**索引**：
- 主键索引：id
- 唯一索引：community_id
- 普通索引：property_id

## 五、数据关系模型

### 5.1 主外键关系

- **居民信息表（residents）** 与 **小区表（communities）**：一对多关系，一个居民属于一个小区，一个小区可以包含多个居民
- **居民信息表（residents）** 与 **单元表（units）**：一对多关系，一个居民属于一个单元，一个单元可以包含多个居民
- **居民信息表（residents）** 与 **户表（house）**：一对多关系，一个居民属于一个户，一个户可以包含多个居民
- **居民信息表（residents）** 与 **组别表（groups）**：一对多关系，一个居民属于一个组别，一个组别可以包含多个居民
- **居民信息表（residents）** 与 **户号表（house_numbers）**：一对多关系，一个居民属于一个户号，一个户号可以包含多个居民
- **居民信息表（residents）** 与 **死亡人口表（deceased_population）**：一对一关系，一个居民只能有一个死亡记录，一个死亡记录只能属于一个居民
- **单元表（units）** 与 **小区表（communities）**：一对多关系，一个单元属于一个小区，一个小区可以包含多个单元
- **户表（house）** 与 **单元表（units）**：一对多关系，一个户属于一个单元，一个单元可以包含多个户
- **户号表（house_numbers）** 与 **组别表（groups）**：一对多关系，一个户号属于一个户，一个户可以包含多个户号
- **小区表（communities）** 与 **组别表（groups）**：一对多关系，一个小区属于一个组别，一个组别可以包含多个小区
- **商户信息表（businesses）** 与 **行业表（industries）**：一对多关系，一个商户属于一个行业，一个行业可以包含多个商户
- **商户信息表（businesses）** 与 **街道表（streets）**：一对多关系，一个商户属于一个街道，一个街道可以包含多个商户
- **物业辖区表（property_areas）** 与 **物业信息表（properties）**：一对多关系，一个物业辖区属于一个物业，一个物业可以包含多个物业辖区
- **物业辖区表（property_areas）** 与 **小区表（communities）**：一对一关系，一个物业辖区只能属于一个小区，一个小区只能有一个物业辖区

### 5.2 数据完整性约束

- **实体完整性**：所有表都有主键，确保每条记录的唯一性
- **参照完整性**：通过外键约束维护表之间的引用关系
- **域完整性**：通过数据类型、长度、NOT NULL、DEFAULT等约束确保数据的有效性
- **用户定义完整性**：通过UNIQUE、CHECK等约束实现特定业务规则

